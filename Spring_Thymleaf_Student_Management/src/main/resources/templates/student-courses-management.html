<html xmlns:th="http://www.thymeleaf.org">
<head>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <title>My Courses</title>
</head>
<body>
<header class="page-header">
    <div class="header-container">
        <div class="logo">Student Management System</div>
        <nav class="nav-links">
            <a th:href="@{'/student/' + ${student.id}}">Student Portal</a>
            <a th:href="@{'/student/' + ${student.id} + '/courses'}">Manage Courses</a>
            <button type="button" class="logout-btn" onclick="document.getElementById('logoutForm').submit()">Logout</button>
            <form id="logoutForm" th:action="@{/logout}" method="post" style="display:none;"></form>
        </nav>
    </div>
</header>

<main>
    <div th:if="${#lists.isEmpty(student.assignedCourses) == false}">
    <h2>Registered Courses</h2>
    <table >
        <thead>
        <tr>
            <th>Course Name</th>
            <th>Teacher</th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="course : ${student.assignedCourses}">
            <td th:text="${course.name}"></td>
            <td th:text="${course.teacher}"></td>
            <td>
                <a th:href="@{'/student/' +${student.id}+ '/removeCourse/' +${course.id}}"
                   class="action-btn delete-btn"
                   onclick="return confirm('Are you sure you want to delete this course?');">
                    Delete
                </a>
            </td>
        </tr>
        </tbody>
    </table>
    </div>
    <br>
    <div th:if="${#lists.isEmpty(allCourses) == false}">
    <h2>Available Courses</h2>
    <table>
        <thead>
        <tr>
            <th>Course Name</th>
            <th>Teacher</th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="course : ${allCourses}">
            <td th:text="${course.name}"></td>
            <td th:text="${course.teacher}"></td>
            <td>
                <a th:href="@{'/student/' + ${student.id} + '/addCourse/' + ${course.id}}" class="action-btn edit-btn">Add</a>
            </td>
        </tr>
        </tbody>
    </table>
    </div>
</main>

<footer class="page-footer">
    <p>Â© 2025 Student Management System | Student Portal</p>
</footer>
</body>
</html>
